{% extends "header_m.html" %}

{% block body %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% load static %}
    <style>
        /* Statistics Section */
        .statistics {
            display: flex;
            justify-content: space-around;
            margin: 30px 20px;
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-box {
            text-align: center;
        }

        .stat-box h3 {
            color: #8e7575;
            font-size: 28px;
        }

        .stat-box p {
            color: #666;
            font-size: 16px;
        }

        /* Footer */
        footer {
            background-color: #8e7575;
            margin-top: 500px;
            color: white;
            text-align: center;
            padding: 20px;
            box-shadow: 0 -6px 8px rgba(0, 0, 0, 0.2);
        }

        .footer-links a {
            color: white;
            font-size: 1.5em;
            margin: 0 10px;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #f0a1a1;
        }

        .contact-details {
            font-size: 0.9em;
        }

        .footer-copy {
            font-size: 0.8em;
            margin-top: 10px;
        }
        @media (max-width: 768px) {
            .statistics {
                flex-direction: column;
                align-items: center;
                margin: 70px 10px;
                padding: 15px;
            }

            .stat-box h3 {
                font-size: 24px;
            }

            .stat-box p {
                font-size: 14px;
            }

            .footer-links a {
                font-size: 1.2em;
                margin: 0 8px;
            }
        }

        .job-card h3 {
            text-align: center;
            width: 100%;

            color: #4a2e2e;

            font-weight: bold;
            font-size: 20px;
            text-transform: uppercase;

            border-radius: 5px;
        }

        .job-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    width: 50%;
             margin: 50px auto;

}

        .job-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin: 0;
        }

        .job-details {
            color: #666;
            margin: 5px 0 10px;
            font-size: 14px;
        }

        /* Status background colors */
        .status {
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            color: #fff;
        }

        .status.pending {
            background-color: #ffc107; /* Yellow for pending */
        }

        .status.rejected {
            background-color: #dc3545; /* Red for rejected */
        }

        .status.interview {
            background-color: #28a745; /* Green for interview */
        }

        .status.review {
            background-color: #6783a3; /* Blue for review */
        }

        .view-details {
            color: #718fb6;
            font-size: 14px;
            text-decoration: none;
            font-weight: bold;
            align-self: flex-end;
            position: relative;
            top: 9px;
        }

        .view-details:hover {
            text-decoration: underline;
        }

        .time {
            background-color: #e7f3fe; /* Light blue background */
            border-left: 5px solid #2196F3; /* Blue left border */
            padding: 10px; /* Padding for spacing */
            border-radius: 4px; /* Slightly rounded corners */
            margin-top: 10px; /* Space above the time block */
            font-size: 14px; /* Font size */
            color: #333; /* Dark text color */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        @media (max-width: 400px) {
            .statistics {
                margin-top: 80px;
                padding: 10px;
            }

            .stat-box h3 {
                font-size: 20px;
            }

            .stat-box p {
                font-size: 12px;
            }

            .footer-links a {
                font-size: 1em;
                margin: 0 5px;
            }

            .contact-details, .footer-copy {
                font-size: 0.7em;
            }
        }
    </style>
<script>
        function toggleInterviews() {
            const interviewCards = document.getElementById('interview-cards');
            if (interviewCards.style.display === 'none' || interviewCards.style.display === '') {
                interviewCards.style.display = 'block';
            } else {
                interviewCards.style.display = 'none';
            }
        }
    </script>
</head>
<body>
<div class="statistics">
    <div class="stat-box">
        <h3>{{ applied_jobs_count }}</h3>
        <p>Applied Jobs</p>
    </div>
    <div class="stat-box">
        <h3>{{ saved_jobs_count }}</h3>
        <p>Saved Jobs</p>
    </div>
    <div class="stat-box" onclick="toggleInterviews()" style="cursor: pointer;">
        <h3 style="color: green">{{ interviews_count }}</h3>
        <p>Interviews Scheduled</p>
    </div>
</div>

<!-- Optional: Display interviews separately -->
<div id="interview-cards" style="display: none;">
    {% for interview in interviews %}
    <div class="job-card">
        <h3>Scheduled Interviews</h3>
        <p class="job-title">{{ interview.job.title }}</p>
        <p class="job-details">
            Company: {{ interview.job.company_name }} |
            Status: <span class="status interview">{{ interview.get_status_display }}</span>
        </p>
        <div class="time">
            <p>Your Interview Scheduled At: <strong>{{ interview.interview_time }}</strong></p>
        </div>
        <a href="{% url 'job_detail' interview.job.id %}" class="view-details">View Details</a>
    </div>
    {% endfor %}
</div>

<footer>
    <div class="footer-links">
        <a href="https://www.instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="https://www.github.com" target="_blank"><i class="fab fa-github"></i></a>
    </div>
    <div class="contact-details">
        <p>Contact Us: +91 95088 65788</p>
        <p>Email: alexrahul9576@gmail.com</p>
        <p>Address: Sector 23D Khargar, Mumbai, India</p>
    </div>
    <p class="footer-copy">Â© 2024 Job Portal. All rights reserved.</p>
</footer>
</body>
</html>
{% endblock %}